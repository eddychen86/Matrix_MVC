<div id="reports-app" class="grid h-full w-full grid-cols-4 gap-4">
    <h2 class="col-span-4 text-5xl font-bold text-gray-700">Reports Management</h2>

    <!-- ������ -->
    <aside class="col-span-1 flex flex-col gap-8 border-r border-gray-200 bg-white p-8">
        <!-- Keyword -->
        <div>
            <h3 class="mb-2 block font-semibold text-[20px] text-gray-700">Keyword</h3>
            <div class="relative w-full">
                <input name="keyword" type="text"
                       v-model="keyword"
                       @@keyup.enter="search"
                       class="w-full rounded border bg-gray-50 px-3 py-2 focus:ring-2 focus:ring-blue-200 focus:outline-none"
                       placeholder="Please enter keyword">
                <button type="button"
                        @@click="() => {page = 1; loadReports()}"
                        class="absolute top-1/2 right-4 -translate-y-1/2 cursor-pointer">
                    <i data-lucide="search" class="icon-base"></i>
                </button>
            </div>
        </div>

        <!-- Status -->
        <div class="flex items-center justify-between gap-3">
            <span class="text-base font-semibold text-[20px] text-gray-700">Status</span>
            <div class="flex rounded-full border border-blue-400 bg-white p-0.5 shadow-inner">
                <input type="radio" id="st-pending" class="peer/p hidden" value="0" v-model.number="status">
                <label for="st-pending"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                      peer-checked/p:bg-blue-700 peer-checked/p:text-white peer-checked/p:shadow">Not yet</label>

                <input type="radio" id="st-processed" class="peer/a hidden" value="1" v-model.number="status">
                <label for="st-processed"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                      peer-checked/a:bg-blue-700 peer-checked/a:text-white peer-checked/a:shadow">Processed</label>
            </div>
        </div>

        <!-- Type -->
        <div class="flex items-center justify-between gap-3">
            <span class="text-base font-semibold text-[20px] text-gray-700">Type</span>
            <div class="flex rounded-full border border-blue-400 bg-white p-0.5 shadow-inner">
                <input type="radio" id="tp-user" class="peer/u hidden" value="0" v-model.number="type">
                <label for="tp-user"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                      peer-checked/u:bg-blue-700 peer-checked/u:text-white peer-checked/u:shadow">Users</label>

                <input type="radio" id="tp-article" class="peer/t hidden" value="1" v-model.number="type">
                <label for="tp-article"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                      peer-checked/t:bg-blue-700 peer-checked/t:text-white peer-checked/t:shadow">Article</label>
            </div>
        </div>
        <!-- Modify time（常駐日曆） -->
        <div>
            <label class="mb-2 block font-semibold text-[20px] text-gray-700">Modify time</label>

            <!-- 直接顯示日曆，不用 popover / input -->
            <div>
                <calendar-date class="cally bg-base-100 border-base-300 rounded-box w-full border shadow-lg" onchange="window.setReportDate && window.setReportDate(this.value)">
                    >
                    <svg aria-label="Previous" class="size-4 fill-current text-[#161616]" slot="previous" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M15.75 19.5 8.25 12l7.5-7.5"></path></svg>
                    <svg aria-label="Next" class="size-4 fill-current text-[#161616]" slot="next" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path></svg>
                    <calendar-month></calendar-month>
                </calendar-date>
            </div>

                <div class="flex justify-end gap-2 p-2">
                    <button type="button" class="btn btn-sm" id="btn-clear-date">清除</button>
                </div>
        </div>
        


        <div>
            <button class="btn btn-primary w-full" @@click="applyFilters">Apply filters</button>
        </div>
    </aside>

    <!--  -->
    <main class="col-span-3 h-full p-8">
        <div class="h-full w-full rounded-2xl border border-black/10 bg-yellow-50 p-4">
            <table class="table w-full">
                <thead>
                    <tr>
                        <th>Reason</th>
                        <th>Reporter</th>
                        <th>Type</th>
                        <th>Target</th>
                        <th>ModifyTime</th>
                    </tr>
                </thead>
                <tbody class="text-[14px]">
                    <tr v-for="item in reports" :key="item.reportId" class="cursor-pointer hover:bg-blue-100">
                        <td class="max-w-[240px] truncate" :title="item.reason">{{ item.reason }}</td>
                        <td>{{ item.reporter }}</td>
                        <td>{{ item.type }}</td>
                        <td class="max-w-[200px] truncate" :title="item.target">{{ item.target }}</td>
                        <td>{{ item.modifyTime ? formatDate(item.modifyTime) : '-' }}</td>
                    </tr>
                </tbody>

                <!--  -->
                <tfoot v-if="totalPages > 0">
                    <tr>
                        <td colspan="5">
                            <div class="bg-yellow-50 px-4 py-2">
                                <div class="flex justify-center gap-1">
                                    <button :disabled="page === 1"
                                            @@click="goPage(page - 1)"
                                            class="rounded px-2 py-1 text-gray-500 hover:bg-gray-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6" /></svg>
                                    </button>
                                    <button v-for="(p, index) in showPage"
                                            :key="index"
                                            :disabled="p === '...'"
                                            @@click="typeof p === 'number' && goPage(p)"
                                            class="rounded px-2 py-1"
                                            :class="p === page ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-200'">
                                        {{ p }}
                                    </button>
                                    <button :disabled="page === totalPages"
                                            @@click="goPage(page + 1)"
                                            class="rounded px-2 py-1 text-gray-500 hover:bg-gray-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6" /></svg>
                                    </button>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </main>
</div>

<div id="reports-app" class="flex h-full w-full border border-gray-300 bg-white shadow-lg">
    <!-- 左側欄 -->
    <aside class="flex flex-col gap-8 border-r border-gray-200 bg-white p-8">
        <div>
            <h2 class="mb-4 text-2xl font-bold text-gray-700">Reports Management</h2>
        </div>

        <!-- Keyword -->
        <div>
            <h3 class="mb-2 block font-semibold text-[20px] text-gray-700">Keyword</h3>
            <div class="relative w-full">
                <input name="keyword" type="text"
                       v-model="keyword"
                       @@keyup.enter="search"
                       class="w-full rounded border bg-gray-50 px-3 py-2 focus:ring-2 focus:ring-blue-200 focus:outline-none"
                       placeholder="Search reason / reporter / target">
                <button type="button"
                        @@click="() => {page = 1; loadReports()}"
                        class="absolute top-1/2 right-4 -translate-y-1/2 cursor-pointer">
                    <i data-lucide="search" class="icon-base"></i>
                </button>
            </div>
        </div>

        <!-- Status -->
        <div class="flex items-center justify-between gap-3">
            <span class="text-base font-semibold text-[20px] text-gray-700">Status</span>
            <div class="flex rounded-full border border-blue-400 bg-white p-0.5 shadow-inner">
                <input type="radio" id="st-pending" class="peer/p hidden" value="0" v-model.number="status">
                <label for="st-pending"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                              peer-checked/p:bg-blue-700 peer-checked/p:text-white peer-checked/p:shadow">Pending</label>

                <input type="radio" id="st-processed" class="peer/a hidden" value="1" v-model.number="status">
                <label for="st-processed"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                              peer-checked/a:bg-blue-700 peer-checked/a:text-white peer-checked/a:shadow">Processed</label>

                <input type="radio" id="st-rejected" class="peer/r hidden" value="2" v-model.number="status">
                <label for="st-rejected"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                              peer-checked/r:bg-blue-700 peer-checked/r:text-white peer-checked/r:shadow">Rejected</label>

                <input type="radio" id="st-all" class="peer/all hidden" value="" v-model="status">
                <label for="st-all"
                       class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                              peer-checked/all:bg-blue-700 peer-checked/all:text-white peer-checked/all:shadow">All</label>
            </div>
        </div>

        <!-- Type -->
        <div class="flex items-center justify-between gap-3">
            <span class="text-base font-semibold text-[20px] text-gray-700">Type</span>
            <div class="flex rounded-full border border-blue-400 bg-white p-0.5 shadow-inner">
                <input type="radio" id="tp-user" class="peer/u hidden" value="0" v-model.number="type">
                <label for="tp-user" class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                       peer-checked/u:bg-blue-700 peer-checked/u:text-white peer-checked/u:shadow">Users</label>

                <input type="radio" id="tp-article" class="peer/t hidden" value="1" v-model.number="type">
                <label for="tp-article" class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                       peer-checked/t:bg-blue-700 peer-checked/t:text-white peer-checked/t:shadow">Article</label>

                <input type="radio" id="tp-all" class="peer/ta hidden" value="" v-model="type">
                <label for="tp-all" class="cursor-pointer rounded-full px-3 py-1 text-sm font-semibold text-blue-600 transition
                       peer-checked/ta:bg-blue-700 peer-checked/ta:text-white peer-checked/ta:shadow">All</label>
            </div>
        </div>

        <!-- Date range（可保留你們的 calendar 元件；這裡用簡單 input date） -->
        <div>
            <label class="mb-2 block font-semibold text-[20px] text-gray-700">Create time</label>
            <div class="flex items-center gap-2">
                <input type="date" v-model="from" class="w-full rounded border bg-gray-50 px-3 py-2" />
                <span class="text-gray-400">~</span>
                <input type="date" v-model="to" class="w-full rounded border bg-gray-50 px-3 py-2" />
            </div>
        </div>

        <div>
            <button class="btn btn-primary w-full" @@click="() => {page=1; loadReports()}">Apply filters</button>
        </div>
    </aside>

    <!-- 右側主表格 -->
    <main class="flex-1 p-8">
        <div class="h-full w-full rounded-2xl border border-black/10 bg-yellow-50 p-8">
            <table class="table w-full">
                <thead>
                    <tr>
                        <th>Reason</th>
                        <th>Reporter</th>
                        <th>Type</th>
                        <th>Target</th>
                        <th>CreateTime</th>
                        <th>ModifyTime</th>
                        <th class="text-center">Process</th>
                        <th class="text-center">Reject</th>
                    </tr>
                </thead>
                <tbody class="text-[14px]">
                    <tr v-for="item in reports" :key="item.reportId" class="cursor-pointer hover:bg-blue-100">
                        <td class="max-w-[240px] truncate" :title="item.reason">{{ item.reason }}</td>
                        <td>{{ item.reporter }}</td>
                        <td>{{ item.type }}</td>
                        <td class="max-w-[200px] truncate" :title="item.target">{{ item.target }}</td>
                        <td>{{ formatDate(item.createTime) }}</td>
                        <td>{{ item.modifyTime ? formatDate(item.modifyTime) : '-' }}</td>
                        <td class="w-14 text-center">
                            <button class="flex items-center justify-center rounded bg-blue-500 p-1 text-white hover:bg-blue-700"
                                    title="Process" @@click="processReport(item.reportId)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle-2"><path d="M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10" /><path d="m9 12 2 2 4-4" /></svg>
                            </button>
                        </td>
                        <td class="w-14 text-center">
                            <button class="flex items-center justify-center rounded bg-red-500 p-1 text-white hover:bg-red-700"
                                    title="Reject" @@click="rejectReport(item.reportId)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ban"><path d="M4.93 4.93 19.07 19.07" /><circle cx="12" cy="12" r="10" /></svg>
                            </button>
                        </td>
                    </tr>
                </tbody>

                <!-- 分頁 -->
                <tfoot v-if="totalPages > 0">
                    <tr>
                        <td colspan="8">
                            <div class="bg-yellow-50 px-4 py-2">
                                <div class="flex justify-center gap-1">
                                    <button :disabled="page === 1"
                                            @@click="goPage(page - 1)"
                                            class="rounded px-2 py-1 text-gray-500 hover:bg-gray-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6" /></svg>
                                    </button>
                                    <button v-for="(p, index) in showPage"
                                            :key="index"
                                            :disabled="p === '...'"
                                            @@click="typeof p === 'number' && goPage(p)"
                                            class="rounded px-2 py-1"
                                            :class="p === page ? 'bg-blue-100 text-blue-700' : 'text-gray-700 hover:bg-gray-200'">
                                        {{ p }}
                                    </button>
                                    <button :disabled="page === totalPages"
                                            @@click="goPage(page + 1)"
                                            class="rounded px-2 py-1 text-gray-500 hover:bg-gray-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6" /></svg>
                                    </button>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </main>
</div>
# User è¡¨å‡è³‡æ–™åŒ¯å…¥èªªæ˜

## âš ï¸ é‡è¦æé†’
**PK è‡ªå‹•ç”Ÿæˆï¼š** User è¡¨çš„ä¸»éµ `UserId` ä½¿ç”¨ GUIDï¼Œç”± Entity Framework è‡ªå‹•ç”Ÿæˆï¼Œ**è«‹å‹¿æ‰‹å‹•è¨­å®šï¼**

## è¡¨æ ¼çµæ§‹èªªæ˜
User è¡¨æ˜¯ç³»çµ±çš„ç”¨æˆ¶å¸³è™ŸåŸºç¤è¡¨ï¼Œå­˜å„²ç”¨æˆ¶çš„ç™»å…¥è³‡è¨Šå’ŒåŸºæœ¬è¨­å®šã€‚

### æ¬„ä½èªªæ˜
| æ¬„ä½å | è³‡æ–™å‹åˆ¥ | èªªæ˜ | æ˜¯å¦å¿…å¡« | é è¨­å€¼ |
|-------|---------|-----|---------|--------|
| UserId | Guid | ç”¨æˆ¶å”¯ä¸€è­˜åˆ¥ç¢¼ (PK) | æ˜¯ | **è‡ªå‹•ç”Ÿæˆ** |
| Role | int | æ¬Šé™ç­‰ç´š (0=ä¸€èˆ¬ç”¨æˆ¶) | æ˜¯ | 0 |
| UserName | string(50) | ç”¨æˆ¶é¡¯ç¤ºåç¨± | æ˜¯ | - |
| Email | string(100) | é›»å­éƒµä»¶åœ°å€ | æ˜¯ | - |
| Password | string | åŠ å¯†å¯†ç¢¼ | æ˜¯ | - |
| Country | string | æ‰€åœ¨åœ‹å®¶ | å¦ | NULL |
| Gender | int | æ€§åˆ¥ | å¦ | NULL |
| CreateTime | datetime | å»ºç«‹æ™‚é–“ | æ˜¯ | GETDATE() |
| LastLoginTime | datetime | æœ€å¾Œç™»å…¥æ™‚é–“ | å¦ | NULL |
| Status | int | å¸³è™Ÿç‹€æ…‹ (0=å•Ÿç”¨) | æ˜¯ | 0 |

## ğŸ”§ å‡è³‡æ–™åŒ¯å…¥ç¯„ä¾‹

### åŒ¯å…¥å‰è³‡æ–™åº«ç‹€æ…‹
```sql
SELECT * FROM Users;
-- (empty table)
```

### åŒ¯å…¥æŒ‡ä»¤
```sql
-- æ’å…¥ä¸€èˆ¬ç”¨æˆ¶å‡è³‡æ–™
INSERT INTO Users (Role, UserName, Email, Password, Country, Gender, CreateTime, Status)  
VALUES 
    (0, 'alice_chen', 'alice@example.com', 'hashed_password_1', 'Taiwan', 1, GETDATE(), 0),
    (0, 'bob_wang', 'bob@example.com', 'hashed_password_2', 'Japan', 0, GETDATE(), 0),
    (1, 'admin_user', 'admin@matrix.com', 'hashed_admin_password', 'Taiwan', NULL, GETDATE(), 0);
```

### åŒ¯å…¥å¾Œè³‡æ–™åº«ç‹€æ…‹
```sql
SELECT UserId, Role, UserName, Email, Country, Gender, CreateTime, Status FROM Users;
```
UserId                               | Role | UserName   | Email              | Country | Gender | CreateTime          | Status
-------------------------------------|------|------------|-------------------|---------|--------|--------------------|---------
12345678-1234-1234-1234-123456789abc | 0    | alice_chen | alice@example.com  | Taiwan  | 1      | 2024-01-01 10:00:00| 0
12345678-1234-1234-1234-123456789def | 0    | bob_wang   | bob@example.com    | Japan   | 0      | 2024-01-01 10:00:01| 0  
12345678-1234-1234-1234-123456789ghi | 1    | admin_user | admin@matrix.com   | Taiwan  | NULL   | 2024-01-01 10:00:02| 0

## ğŸ“‹ åŒ¯å…¥æ³¨æ„äº‹é …

### å¿…è¦æ¬„ä½æª¢æŸ¥
- `UserName`: ä¸å¯ç‚ºç©ºï¼Œæœ€å¤§é•·åº¦ 50 å­—å…ƒ
- `Email`: å¿…é ˆç¬¦åˆé›»å­éƒµä»¶æ ¼å¼ï¼Œæœ€å¤§é•·åº¦ 100 å­—å…ƒ
- `Password`: æ‡‰ä½¿ç”¨åŠ å¯†å¾Œçš„å¯†ç¢¼ï¼Œä¸å¯ç‚ºæ˜ç¢¼

### è³‡æ–™å®Œæ•´æ€§è¦å‰‡
- `Email` æ‡‰è©²æ˜¯å”¯ä¸€çš„ï¼ˆé›–ç„¶è³‡æ–™åº«å±¤é¢æœªå¼·åˆ¶ï¼Œä½†æ¥­å‹™é‚è¼¯æ‡‰ç¢ºä¿ï¼‰
- `Role` å€¼ï¼š0=ä¸€èˆ¬ç”¨æˆ¶ï¼Œ1=ç®¡ç†å“¡
- `Status` å€¼ï¼š0=å•Ÿç”¨ï¼Œ1=åœç”¨ï¼Œ2=è¢«å°ç¦
- `Gender` å€¼ï¼š0=ç”·æ€§ï¼Œ1=å¥³æ€§ï¼ŒNULL=æœªæŒ‡å®š

### é—œè¯å½±éŸ¿
æ–°å¢ User å¾Œï¼Œé€šå¸¸éœ€è¦ï¼š
1. åœ¨ Person è¡¨ä¸­å»ºç«‹å°æ‡‰çš„å€‹äººè³‡æ–™è¨˜éŒ„
2. ç¢ºä¿ `Person.UserId` å¤–éµæ­£ç¢ºå°æ‡‰åˆ°æ–°å»ºç«‹çš„ `User.UserId`

## ğŸš¨ å¸¸è¦‹éŒ¯èª¤é¿å…
1. **ä¸è¦æ‰‹å‹•è¨­å®š UserId**ï¼šè®“ Entity Framework è‡ªå‹•ç”Ÿæˆ
2. **å¯†ç¢¼å®‰å…¨**ï¼šç¢ºä¿å¯†ç¢¼å·²æ­£ç¢ºåŠ å¯†
3. **é›»å­éƒµä»¶æ ¼å¼**ï¼šä½¿ç”¨æœ‰æ•ˆçš„é›»å­éƒµä»¶æ ¼å¼
4. **å­—ä¸²é•·åº¦**ï¼šæ³¨æ„ UserName å’Œ Email çš„æœ€å¤§é•·åº¦é™åˆ¶
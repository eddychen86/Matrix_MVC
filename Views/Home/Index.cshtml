@model List<Matrix.Models.Article>
@{
    ViewData["Title"] = "News";
}

<section class="flex min-h-screen overflow-hidden">
    <div id="news_list" class="mx-auto flex w-max flex-col items-center">

        <h1 class="self-start mb-4 text-white text-[32px] leading-[38px] font-['Roboto'] font-medium">Hot</h1>

        <div id="hot_news" class="relative mx-auto flex w-max">

            <!-- 左箭頭 -->
            <button id="hotPrev"
                    class="absolute top-1/2 -left-6 z-30 flex h-10 w-10 -translate-y-1/2 cursor-pointer items-center justify-center rounded-full bg-white text-black shadow transition hover:bg-gray-200 focus:outline-none">
                <svg viewBox="0 0 24 24"
                     class="h-[14px] w-[14px] fill-current">
                    <path d="M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z" />
                </svg>
            </button>

            <ul class="carousel carousel-start w-[602px] gap-4 text-center">
                @foreach (var item in ViewBag.HotList)
                {
                    <li class="carousel-item h-[250px] w-[190px] overflow-hidden rounded-[30px]">
                        <div class="card bg-base-100 image-full shadow-sm">
                            <figure>
                                <img src="@(item.image?.FilePath ?? "/img/placeholder.png")" alt="" />
                            </figure>
                            <div class="card-body">
                                <div>
                                    <img src="@(item.Author?.AvatarPath ?? "/img/avatar_default.png")" alt="">
                                    <h2 class="card-title">@item.Author?.DisplayName</h2>
                                </div>
                                <div class="card-actions justify-end">
                                    <p>@item.Article.Content</p>
                                </div>
                            </div>
                        </div>
                    </li>
                }
            </ul>

            <!-- 右箭頭 -->
            <button id="hotNext"
                    class="absolute top-1/2 -right-6 z-30 flex h-10 w-10 -translate-y-1/2 cursor-pointer items-center justify-center rounded-full bg-white text-black shadow transition hover:bg-gray-200 focus:outline-none">
                <svg viewBox="0 0 24 24"
                     class="h-[14px] w-[14px] fill-current">
                    <path d="M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z" />
                </svg>
            </button>

        </div>

        <h3 class="self-start mt-4 mb-4 text-white text-[32px] leading-[38px] font-['Roboto'] font-medium">News</h3>

        <!-----貼文----->
        @foreach (var post in ViewBag.HotList)
        {
            <div class="relative mx-auto mb-5 max-h-[502px] min-h-[220px] w-[602px] rounded-[10px] bg-[#323232] p-6">
                <!--發文者頭像-->
                <img src="@(post.Author?.AvatarPath ?? "/img/avatar_default.png")"
                     class="absolute top-6 left-6 h-[50px] w-[50px] rounded-full object-cover" />

                <div class="absolute top-[29px] ml-[66px] flex flex-col gap-[3px]">
                    <!-- 發文者名稱 -->
                    <span class="text-white text-[16px] font-['Source_Sans_Pro'] font-semibold leading-[19px]">
                        @(post.Author?.DisplayName ?? "Unknown")
                    </span>

                    <!-- 發文時間 -->
                    <time class="text-gray-400 text-[14px] font-['Source_Sans_Pro'] font-normal leading-[16px]">
                        @post.Article.CreateTime.ToString("yyyy/MM/dd HH:mm")
                    </time>
                </div>

                <p class="absolute top-[92px] left-[29px] right-[30px] text-white text-[16px] font-['Source_Sans_Pro'] font-normal leading-[19px]">
                    @post.Article.Content
                </p>

                <!-- 文章圖片（選做）-->
                <div class="carousel-item">
                    @if (post.image != null)
                    {
                        <img src="@post.image.FilePath"
                             class="h-[300px] w-[552px] rounded-[24px] object-cover" />
                    }
                </div>

            </div>
        }

    </div>

    <!-----好友列表----->
    <aside id="friends_list" class="fixed top-0 right-0 h-screen w-[300px] border">
        <!-----icon----->
        <div class="flex h-[44px] w-[264px] items-center rounded-[24px] bg-[#323232] pr-4 pl-2 shadow-[2px_2px_4px_rgba(255,255,255,0.1)]">
            <button class="mr-2 flex h-[35px] w-[35px] max-w-[35px] min-w-[35px] cursor-pointer items-center justify-center rounded-full border-0 bg-[#787878] p-0 outline-none">
                <svg class="h-[14px] w-[14px] fill-[#323232] text-[#323232] text-[14px]" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
                </svg>
            </button>
            <!-----好友搜尋欄----->
            <input type="text"
                   placeholder="Search friends"
                   class="flex-1 bg-transparent text-[#a1a1a1] text-[14px] font-['Roboto'] leading-[16px] outline-none placeholder-[#a1a1a1]" />
        </div>

        <!-- 好友清單 -->
        @{
            var demoFriends = new[]
            {
                new { Name = "Alice", Avatar = "https://cataas.com/cat" },
                new { Name = "Bob",   Avatar = "https://cataas.com/cat" },
                new { Name = "Carol", Avatar = "https://cataas.com/cat" },
                new { Name = "Dave",  Avatar = "https://cataas.com/cat" }
                };
        }

        @foreach (var friend in demoFriends)
        {
            <div class="flex items-center rounded-lg px-2 py-2 transition hover:bg-[#222]">
                <img src="@friend.Avatar"
                     class="h-[50px] w-[50px] rounded-full object-cover" />
                <span class="ml-3 text-white text-[16px] font-['Source_Sans_Pro'] leading-[19px]">
                    @friend.Name
                </span>
            </div>
        }

    </aside>
</section>

@section Scripts {
    <script>
    </script>
}
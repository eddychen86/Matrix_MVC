<!-- 遮罩 -->
<div id="overlay" class="fixed inset-0 z-[1000] hidden bg-white opacity-20"></div>

<!-- 編輯發文容器 -->
<div v-cloak v-show="postModal.visible" class="fixed inset-0 z-[1010] flex items-center justify-center">
    <div class="relative flex max-h-[800px] min-h-[450px] w-[600px] flex-col rounded-[15px] bg-[#161616] p-6 pt-[70px]">
        <!-- 頭像和名字 -->
        @* <img src="@ViewBag.CurrentUser.Avatar"
             class="absolute top-[25px] left-[24px] h-[32px] w-[34px] rounded-[24px] object-cover object-center"
             alt="@ViewBag.CurrentUser.DisplayName" />
        <div class="absolute top-[30px] left-[69px] text-white text-[18px] font-['Roboto'] font-normal leading-[22px]">
            @ViewBag.CurrentUser.DisplayName
        </div>
        <button id="closePostBtn" class="absolute top-[22px] right-[24px] h-[32px] w-[32px] text-white hover:text-gray-300">
            <svg viewBox="0 0 24 24" class="h-full w-full fill-current">
                <path d="M6 6 L18 18 M6 18 L18 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg> *@
        </button>
        <!-- 主要內容 -->
        <div class="flex flex-1 flex-col gap-4 pt-[10px] pb-[90px]">
            <textarea id="postContent" class="w-full max-h-[467px] min-h-[150px] resize-none rounded-[10px] bg-white p-4 text-black text-[16px] font-['Source_Sans_Pro'] font-normal leading-[19px] text-justify"
                      placeholder="Write your post here..."></textarea>
            <!-- 檔案預覽區 -->
            <div id="imagePreviewArea" class="flex flex-wrap items-end gap-2"></div>
            <div id="filePreviewArea" class="flex flex-wrap items-end gap-2"></div>
        </div>

        <!--以選擇的文章hashtag顯示區-->
        <div class="flex w-full flex-col px-6 pb-6">
            <div class="mb-2 flex flex-wrap gap-2">
                <div id="selected-hashtags" class="mb-2 flex max-h-[72px] flex-wrap gap-2 overflow-y-auto"></div>
                <input type="hidden" id="SelectedHashtagsInput" name="SelectedHashtags" />
                <div id="all-hashtags-list" class="absolute bottom-16 left-0 z-50 hidden rounded bg-white p-2 shadow"></div>
            </div>
            <!-- 三個小工具鈕 -->
            <input type="file" id="fileInput" class="hidden" multiple />
            <div class="flex items-end justify-between">
                <div class="flex gap-3">
                    <!--上傳檔案-->
                    <button type="button" id="uploadFileBtn" class="h-[32px] w-[32px] items-center justify-center text-[#a2a2a2] text-[32px] transition-colors duration-200 hover:text-[#c2c2c2]">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-[24px] w-[24px] fill-current" viewBox="0 0 24 24">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"></path>
                        </svg>
                    </button>
                    <!--上傳圖案-->
                    <button type="button" id="uploadImgBtn" class="h-[32px] w-[32px] items-center justify-center text-[#ff7f3e] text-[32px] transition-colors duration-200 hover:text-[#ff9f66]">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-[24px] w-[24px] fill-current" viewBox="0 0 24 24">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path>
                        </svg>
                    </button>
                    <!--選擇hashtag-->
                    <button type="button" id="openHashtagBtn" class="h-[32px] w-[32px] items-center justify-center text-[#ffda78] text-[32px] transition-colors duration-200 hover:text-[#ffe8a8]">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-[24px] w-[24px] fill-current" viewBox="0 0 448 512">
                            <path d="M48 32H197.5C214.5 32 230.7 38.74 242.7 50.75L418.7 226.7C443.7 251.7 443.7 292.3 418.7 317.3L285.3 450.7C260.3 475.7 219.7 475.7 194.7 450.7L18.75 274.7C6.743 262.7 0 246.5 0 229.5V80C0 53.49 21.49 32 48 32L48 32zM112 176C129.7 176 144 161.7 144 144C144 126.3 129.7 112 112 112C94.33 112 80 126.3 80 144C80 161.7 94.33 176 112 176z"></path>
                        </svg>
                    </button>
                </div>
                <!--文章送出-->
                <button id="submitPostBtn" class="flex h-[50px] w-[50px] items-center justify-center rounded-[32px] border-0 bg-[#2a629a] text-white transition duration-200 outline-none hover:bg-[#3476bd]">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         class="h-[24px] w-[24px] fill-current text-white">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z" />
                    </svg>
                </button>
            </div>
        </div>

        <!--hashtag選擇視窗-->
        @* <div id="hashtagModal" class="fixed inset-0 z-[1020] flex items-center justify-center bg-black/40">
            <div style="height: 500px; width: 350px;" class="flex flex-shrink-0 flex-col rounded-xl bg-[#161616] p-4 text-white shadow-lg">
                <h3 class="mb-4 text-xl font-semibold">選擇 Hashtag</h3>
                <div id="hashtagList" class="mb-4 flex-1 overflow-y-auto"></div>
                <div class="flex justify-end gap-2">
                    <button id="confirmHashtagBtn" class="rounded bg-blue-500 px-4 py-1 text-white">確定</button>
                    <button id="closeHashtagModalBtn" class="rounded bg-gray-500 px-4 py-1 text-white">取消</button>
                </div>
            </div>
        </div> *@
    </div>
</div>

@* JavaScript is now loaded from ~/js/pages/home/create-post.js *@